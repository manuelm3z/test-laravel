{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var app = angular.module('app', ['ngResource']);\n\n/**\n * Configuring interpolators\n */\napp.config(['$interpolateProvider', function ($interpolateProvider) { \n\t$interpolateProvider.startSymbol('{[{');\n\t$interpolateProvider.endSymbol('}]}'); \n}]);\n\n/**\n * Controller for Albums\n */\napp.controller('AlbumsController', ['$scope', 'Album', function ($scope, Album) {\n\t$scope.album = {};\n\n\t$scope.numArtists = [0];\n\n\t$scope.save = function (form) {\n\t\tif (form.$valid) {\n\t\t\tif ($scope.album.edit == true) {\n\t\t\t\tvar album = Album.get({albumId: $scope.album.id}, function() {\n\t\t\t\t\tangular.extend(album, $scope.album);\n\t\t\t\t\talbum.$update();\n                });\n\t\t\t} else {\n\t\t\t\t$scope.entry = new Album();\n\t\t\t\tangular.extend($scope.entry, $scope.album);\n\t\t\t\t$scope.entry.$save(function () {\n\t\t\t\t\t$scope.getAlbums();\n                });\n\t\t\t}\n\t\t\tform.$setPristine();\n            form.$setUntouched();\n            $scope.numArtists = [0];\n            $scope.album = {};\n\t\t}\n\t};\n\n\t$scope.albums = [];\n\n\t$scope.getAlbums = function () {\n\t\tAlbum.query({}, function (data) {\n\t\t\t$scope.albums = data;\n\t\t});\n\t};\n\n\t$scope.getAlbums();\n\n    /**\n     * Load album on form\n     */\n\t$scope.load = function (album) {\n\t\t$scope.album = album;\n\t\t$scope.album.edit = true;\n\t\t$scope.numArtists = [];\n\t\tfor (var i = 0; i <= album.artists.length - 1; i++) {\n\t\t\t$scope.numArtists.push(i);\n\t\t};\n\t};\n\n    /**\n     * Add new field for artists\n     */\n\t$scope.add = function () {\n\t\t$scope.numArtists.push($scope.numArtists.length);\n\t}\n\n\t/**\n\t * Remove fields for artists\n\t */\n\t$scope.remove = function (index) {\n\t\t$scope.numArtists.splice(index, 1);\n\t\t$scope.album.artists.splice(index, 1);\n\t}\n\n\t/**\n\t * Remove albums\n\t */\n\t$scope.delete = function (index) {\n\t\tvar album = Album.delete({albumId: $scope.albums[index].id}, function () {\n\t\t\t$scope.albums.splice(index, 1);\n\t\t});\n\t};\n}]);\n\n/**\n * Factory for model album\n */\napp.factory('Album', ['$resource', function ($resource) {\n    return $resource(\n    \t'/album/:albumId',\n    \t{albumId:'@id'},\n    \t{\n    \t\tupdate: {\n    \t\t\tmethod: 'PUT' // this method issues a PUT request\n            }\n        });\n}]);"],"sourceRoot":"/source/"}